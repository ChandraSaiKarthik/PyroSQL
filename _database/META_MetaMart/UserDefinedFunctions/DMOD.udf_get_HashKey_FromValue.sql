SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON

CREATE   FUNCTION [DMOD].[udf_get_HashKey_FromValue](
	@InputParam VARCHAR(40)
)

RETURNS VARCHAR(40)
AS
BEGIN

    DECLARE @HashRecord_HashKey VARCHAR(100) =
	(
		SELECT CONVERT(VARCHAR(40),
						 HASHBYTES('SHA1',
							  CONVERT(VARCHAR(MAX), COALESCE(UPPER(LTRIM(RTRIM(@InputParam))), 'NA'))
									)
						, 2)
	)

	RETURN @HashRecord_HashKey

END






GO
